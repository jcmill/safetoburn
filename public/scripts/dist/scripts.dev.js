function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){var o=_regenerator(),e=o.m(_regeneratorRuntime),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function a(e){e="function"==typeof e&&e.constructor;return!!e&&(e===t||"GeneratorFunction"===(e.displayName||e.name))}var n={throw:1,return:2,break:3,continue:3};function i(e){var o,a;return function(r){o||(o={stop:function(){return a(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return a(r.a,n[e],t)},delegateYield:function(e,t,n){return o.resultName=t,a(r.d,_regeneratorValues(e),n)},finish:function(e){return a(r.f,e)}},a=function(e,t,n){r.p=o.prev,r.n=o.next;try{return e(t,n)}finally{o.next=r.n}}),o.resultName&&(o[o.resultName]=r.v,o.resultName=void 0),o.sent=r.v,o.next=r.n;try{return e.call(this,o)}finally{r.p=o.prev,r.n=o.next}}}return(_regeneratorRuntime=function(){return{wrap:function(e,t,n,r){return o.w(i(e),t,n,r&&r.reverse())},isGeneratorFunction:a,mark:o.m,awrap:function(e,t){return new _OverloadYield(e,t)},AsyncIterator:_regeneratorAsyncIterator,async:function(e,t,n,r,o){return(a(t)?_regeneratorAsyncGen:_regeneratorAsync)(i(e),t,n,r,o)},keys:_regeneratorKeys,values:_regeneratorValues}})()}function _regeneratorValues(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}}}throw new TypeError(_typeof(e)+" is not iterable")}function _regeneratorKeys(e){var t,n=Object(e),r=[];for(t in n)r.unshift(t);return function e(){for(;r.length;)if((t=r.pop())in n)return e.value=t,e.done=!1,e;return e.done=!0,e}}function _regeneratorAsync(e,t,n,r,o){var a=_regeneratorAsyncGen(e,t,n,r,o);return a.next().then(function(e){return e.done?e.value:a.next()})}function _regeneratorAsyncGen(e,t,n,r,o){return new _regeneratorAsyncIterator(_regenerator().w(e,t,n,r),o||Promise)}function _regeneratorAsyncIterator(c,u){var o;this.next||(_regeneratorDefine2(_regeneratorAsyncIterator.prototype),_regeneratorDefine2(_regeneratorAsyncIterator.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),_regeneratorDefine2(this,"_invoke",function(n,e,r){function t(){return new u(function(e,t){!function t(e,n,r,o){try{var a=c[e](n),i=a.value;return i instanceof _OverloadYield?u.resolve(i.v).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):u.resolve(i).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)})}catch(e){o(e)}}(n,r,e,t)})}return o=o?o.then(t,t):t()},!0)}function _regenerator(){var p,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o,a,i,c,u,s,f,l,d,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,a=n,f=r||[],l=!1,d={p:s=0,n:0,v:p,a:y,f:y.bind(p,4),d:function(e,t){return i=e,c=0,u=p,d.n=t,g}},function(e,t,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===t&&y(t,n),c=t,u=n;(v=c<2?p:u)||!l;){i||(c?c<3?(1<c&&(d.n=-1),y(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(v=i[e=c?e:"next"]){if(!(v=v.call(i,u)))throw TypeError("iterator result is not an object");if(!v.done)return v;u=v.value,c<2&&(c=0)}else 1===c&&(v=i.return)&&v.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=p}else if((v=(l=d.n<0)?u:o.call(a,d))!==g)break}catch(e){i=p,c=1,u=e}finally{s=1}}return{value:v,done:l}}),!0),t;function y(e,t){for(c=e,u=t,v=0;!l&&s&&!n&&v<f.length;v++){var n,r=f[v],o=d.p,a=r[2];3<e?(n=a===t)&&(u=r[(c=r[4])?5:c=3],r[4]=r[5]=p):r[0]<=o&&((n=e<2&&o<r[1])?(c=0,d.v=t,d.n=r[1]):o<a&&(n=e<3||r[0]>t||a<t)&&(r[4]=e,r[5]=t,d.n=a,c=0))}if(n||1<e)return g;throw l=!0,t}}var g={};function h(){}function o(){}function a(){}var v=Object.getPrototypeOf,e=[][t]?v(v([][t]())):(_regeneratorDefine2(v={},t,function(){return this}),v),i=a.prototype=h.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(i),e}return _regeneratorDefine2(i,"constructor",o.prototype=a),_regeneratorDefine2(a,"constructor",o),_regeneratorDefine2(a,n,o.displayName="GeneratorFunction"),_regeneratorDefine2(i),_regeneratorDefine2(i,n,"Generator"),_regeneratorDefine2(i,t,function(){return this}),_regeneratorDefine2(i,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:c}})()}function _regeneratorDefine2(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(_regeneratorDefine2=function(e,t,n,r){function o(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function _OverloadYield(e,t){this.v=e,this.k=t}var myLocationButton=document.querySelector(".js-my-location"),locationContainer=document.querySelector(".js-hero__details--response"),inputReset=document.querySelector(".js-input"),resetButton=document.querySelector(".js-reset");function handleMyLocationClick(){navigator.geolocation.getCurrentPosition(function(t){var n,r;return _regeneratorRuntime().async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.coords.latitude,n=t.coords.longitude,e.next=4,_regeneratorRuntime().awrap(getWeather(r,n));case 4:r=e.sent,windspeed=parseFloat(r.windSpeed.replace("mph","").trim()),humidity=r.relativeHumidity,readings(windspeed,humidity),safeToBurn(windspeed,humidity);case 9:case"end":return e.stop()}})},function(e){})}function getJSON(t){var n;return _regeneratorRuntime().async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_regeneratorRuntime().awrap(fetch(t,{headers:{"User-Agent":"SafeBurnApp"}}));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Request failed: ".concat(n.status));case 5:return e.next=7,_regeneratorRuntime().awrap(n.json());case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}})}function getWeather(t,n){var r,o,a,i;return _regeneratorRuntime().async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_regeneratorRuntime().awrap(getJSON("https://api.weather.gov/points/".concat(t,",").concat(n)));case 2:return r=e.sent,r=r.properties.forecastHourly,console.log(r),e.next=7,_regeneratorRuntime().awrap(getJSON(r));case 7:return r=e.sent,i=new Date,o=i.getHours(),i=r.properties.periods,a=i.findIndex(function(e){return new Date(e.startTime).getHours()===o}),i=i[a],e.abrupt("return",{windSpeed:i.windSpeed,relativeHumidity:i.relativeHumidity.value});case 14:case"end":return e.stop()}})}myLocationButton&&myLocationButton.addEventListener("click",handleMyLocationClick);var getOffset=function(){var e=1100-Math.round(8.6*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0));return Number(240<=e?e.toFixed(2):240)},readings=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=document.querySelector(".js-graph-circle--windspeed"),r=document.querySelector(".js-windspeed-text"),o=document.querySelector(".js-graph-circle--humidity"),a=document.querySelector(".js-humidity-text"),i=Number(e/15*100);n.style.strokeDashoffset=getOffset(i),r.textContent="".concat(Number(e)," mph"),o.style.strokeDashoffset=getOffset(t),a.textContent="".concat(Number(t),"%"),n.style.stroke=i<=79?"#cc9c50":100<=i?"#c94c26":"#f87819",o.style.stroke=40<t?"#cc9c50":t<=30?"#c94c26":"#f87819"},safeToBurn=(document.addEventListener("DOMContentLoaded",function(){return setTimeout(readings,100)}),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=[],t=(10<e&&n.push("<b>High wind</b> (".concat(e," mph)")),t<30&&n.push("<b>Low humidity</b> (".concat(t,"%)")),e=1===n.length?"".concat(n[0]):"".concat(n[0]," and ").concat(n[1]),console.log(n.length),locationContainer.innerHTML="",'\n    <div class="c-unsafe">\n      <h3>It\'s <b>unsafe</b> to burn because '.concat(e,"</h3>\n    </div>\n  "));0===n.length?locationContainer.insertAdjacentHTML("afterbegin",'\n    <div class="c-safe">\n      <h2>It\'s safe to burn!</h2>\n    </div>\n  '):locationContainer.insertAdjacentHTML("afterbegin",t)});document.querySelector("form").addEventListener("submit",function(e){var t=document.querySelector(".js-location-search__input"),n=document.querySelector(".js-location-search__error"),r=(n.textContent="",n.classList.add("c-location-search__hidden"),t.removeAttribute("aria-invalid"),t.value.trim());r?/^\d+$/.test(r)&&(r.length<5||5<r.length)&&(e.preventDefault(),n.textContent="ZIP codes must be 5 digits.",n.classList.remove("c-location-search__hidden"),t.setAttribute("aria-invalid","true"),t.focus()):(e.preventDefault(),n.textContent="Please enter a city name or ZIP code.",n.classList.remove("c-location-search__hidden"),t.setAttribute("aria-invalid","true"),t.focus())});