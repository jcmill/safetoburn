function _regenerator(){var g,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o,i,a,c,u,s,f,d,l,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,i=n,f=r||[],d=!1,l={p:s=0,n:0,v:g,a:h,f:h.bind(g,4),d:function(e,t){return a=e,c=0,u=g,l.n=t,p}},function(e,t,n){if(1<s)throw TypeError("Generator is already running");for(d&&1===t&&h(t,n),c=t,u=n;(v=c<2?g:u)||!d;){a||(c?c<3?(1<c&&(l.n=-1),h(c,u)):l.n=u:l.v=u);try{if(s=2,a){if(v=a[e=c?e:"next"]){if(!(v=v.call(a,u)))throw TypeError("iterator result is not an object");if(!v.done)return v;u=v.value,c<2&&(c=0)}else 1===c&&(v=a.return)&&v.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+e+"' method"),c=1);a=g}else if((v=(d=l.n<0)?u:o.call(i,l))!==p)break}catch(e){a=g,c=1,u=e}finally{s=1}}return{value:v,done:d}}),!0),t;function h(e,t){for(c=e,u=t,v=0;!d&&s&&!n&&v<f.length;v++){var n,r=f[v],o=l.p,i=r[2];3<e?(n=i===t)&&(u=r[(c=r[4])?5:c=3],r[4]=r[5]=g):r[0]<=o&&((n=e<2&&o<r[1])?(c=0,l.v=t,l.n=r[1]):o<i&&(n=e<3||r[0]>t||i<t)&&(r[4]=e,r[5]=t,l.n=i,c=0))}if(n||1<e)return p;throw d=!0,t}}var p={};function y(){}function o(){}function i(){}var v=Object.getPrototypeOf,e=[][t]?v(v([][t]())):(_regeneratorDefine2(v={},t,function(){return this}),v),a=i.prototype=y.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(a),e}return _regeneratorDefine2(a,"constructor",o.prototype=i),_regeneratorDefine2(i,"constructor",o),_regeneratorDefine2(i,n,o.displayName="GeneratorFunction"),_regeneratorDefine2(a),_regeneratorDefine2(a,n,"Generator"),_regeneratorDefine2(a,t,function(){return this}),_regeneratorDefine2(a,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:c}})()}function _regeneratorDefine2(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(_regeneratorDefine2=function(e,t,n,r){function o(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function o(e){asyncGeneratorStep(r,t,n,o,i,"next",e)}function i(e){asyncGeneratorStep(r,t,n,o,i,"throw",e)}o(void 0)})}}var myLocationButton=document.querySelector(".js-my-location"),locationContainer=document.querySelector(".js-hero__details--response"),inputReset=document.querySelector(".js-input"),resetButton=document.querySelector(".js-reset");function handleMyLocationClick(){navigator.geolocation.getCurrentPosition((()=>{var t=_asyncToGenerator(_regenerator().m(function e(t){var n,r;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r=t.coords.latitude,n=t.coords.longitude,e.n=1,getWeather(r,n);case 1:r=e.v,windspeed=parseFloat(r.windSpeed.replace("mph","").trim()),humidity=r.relativeHumidity,readings(windspeed,humidity),safeToBurn(windspeed,humidity);case 2:return e.a(2)}},e)}));return function(e){return t.apply(this,arguments)}})(),function(e){})}function getJSON(e){return _getJSON.apply(this,arguments)}function _getJSON(){return(_getJSON=_asyncToGenerator(_regenerator().m(function e(t){var n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch(t,{headers:{"User-Agent":"SafeBurnApp"}});case 1:if((n=e.v).ok){e.n=2;break}throw new Error("Request failed: ".concat(n.status));case 2:return e.n=3,n.json();case 3:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function getWeather(e,t){return _getWeather.apply(this,arguments)}function _getWeather(){return(_getWeather=_asyncToGenerator(_regenerator().m(function e(t,n){var r,o,i,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,getJSON("https://api.weather.gov/points/".concat(t,",").concat(n));case 1:return r=e.v,r=r.properties.forecastHourly,console.log(r),e.n=2,getJSON(r);case 2:return r=e.v,a=new Date,o=a.getHours(),a=r.properties.periods,i=a.findIndex(function(e){return new Date(e.startTime).getHours()===o}),a=a[i],e.a(2,{windSpeed:a.windSpeed,relativeHumidity:a.relativeHumidity.value})}},e)}))).apply(this,arguments)}myLocationButton&&myLocationButton.addEventListener("click",handleMyLocationClick);var getOffset=function(){var e=1100-Math.round(8.6*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0));return Number(240<=e?e.toFixed(2):240)},readings=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=document.querySelector(".js-graph-circle--windspeed"),r=document.querySelector(".js-windspeed-text"),o=document.querySelector(".js-graph-circle--humidity"),i=document.querySelector(".js-humidity-text"),a=Number(e/15*100);n.style.strokeDashoffset=getOffset(a),r.textContent="".concat(Number(e)," mph"),o.style.strokeDashoffset=getOffset(t),i.textContent="".concat(Number(t),"%"),n.style.stroke=a<=79?"#cc9c50":100<=a?"#c94c26":"#f87819",o.style.stroke=40<t?"#cc9c50":t<=30?"#c94c26":"#f87819"},safeToBurn=(document.addEventListener("DOMContentLoaded",function(){return setTimeout(readings,100)}),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=[],t=(10<e&&n.push("<b>High wind</b> (".concat(e," mph)")),t<30&&n.push("<b>Low humidity</b> (".concat(t,"%)")),e=1===n.length?"".concat(n[0]):"".concat(n[0]," and ").concat(n[1]),console.log(n.length),locationContainer.innerHTML="",'\n    <div class="c-unsafe">\n      <h3>It\'s <b>unsafe</b> to burn because '.concat(e,"</h3>\n    </div>\n  "));0===n.length?locationContainer.insertAdjacentHTML("afterbegin",'\n    <div class="c-safe">\n      <h2>It\'s safe to burn!</h2>\n    </div>\n  '):locationContainer.insertAdjacentHTML("afterbegin",t)});document.querySelector("form").addEventListener("submit",function(e){var t=document.querySelector(".js-location-search__input"),n=document.querySelector(".js-location-search__error"),r=(n.textContent="",n.classList.add("c-location-search__hidden"),t.removeAttribute("aria-invalid"),t.value.trim());r?/^\d+$/.test(r)&&(r.length<5||5<r.length)&&(e.preventDefault(),n.textContent="ZIP codes must be 5 digits.",n.classList.remove("c-location-search__hidden"),t.setAttribute("aria-invalid","true"),t.focus()):(e.preventDefault(),n.textContent="Please enter a city name or ZIP code.",n.classList.remove("c-location-search__hidden"),t.setAttribute("aria-invalid","true"),t.focus())});